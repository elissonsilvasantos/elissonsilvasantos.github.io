<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elisson Silva Santos</title>
    <link rel="stylesheet" href="estilo.css">
    <style>

        
        main {
            padding: 30px 150px;
        }
        main>section {
            background-color: inherit;
            padding: 0;
        }
        p#parag-especial {
            background-color: inherit;
            font-size: 1.2em;

            margin-bottom: 40px;
        }
        div#agregador-blocos {
            background-color: inherit;
        }

        div#botao-esquerda {
            background-color: var(--cor-secundaria);
        }
        div#botao-direita {
            background-color: var(--cor-secundaria);
        }
        
    </style>
</head>
<body>
    <header>
        <span class="nome-titulo">
            <h1 class="nome-titulo">
                <a href="index.html">elisson silva santos</a>
            </h1>
        </span>
        <span class="navegar-cabecalho">
            <nav class="navegar-cabecalho">
                <span class="botao-secao">
                    <a href="">inicial</a>
                </span>
                <!--
                <span class="botao-secao">
                    <a href="">casos</a>
                </span>
                -->
                <span class="botao-secao">
                    <a href="sobre.html">sobre</a>
                </span>
                <!--
                <span class="botao-secao">
                    <a href="">contato</a>
                </span>
                -->
            </nav>
        </span>
    </header>
    <main>
        <h2 id="titulo-pagina"></h2>
        <section>
            <p id="parag-especial">A melhor forma de lidar com os problemas é compreendendo-os profundamente; meu objetivo é realizar isso com propriedade.</p>

            <div id="painel">
                <div id="botao-esquerda"> </div>
                <div id="tela-painel">
                    <img src="" alt=""> <!-- sem nada para testar -->
                    <h4 id="titulo-projeto-painel">titulo do projeto x</h4>
                </div>
                <div id="botao-direita"></div>
            </div>
            <div id="agregador-blocos">
                <!--
                <span class="bloco-projeto">teste</span>
                <span class="bloco-projeto">proj</span>
                <span class="bloco-projeto">proj 3</span>
                -->
            </div>
            
        
        </section>
    </main>
    <footer>
        <p id="parag-contatos">contato</p>
        <nav>
            <span>
                <a class="contato-rodape" href="https://www.linkedin.com/in/elissonsilvasantos/">Linkedin</a>
            </span>
            <span>
                <a class="contato-rodape" href="https://github.com/elissonsilvasantos">Github</a>
            </span>
        </nav>
    </footer>
    
    <script>

        // let fs = require('fs')
        // let arquivos = fs.readdirSync('/projetos')
        // alert(arquivos) // como usar node no navegador

        // não é possível ler do diretório, utilizar um arquivo json 
        // primeiro testar com objeto do próprio js


        /*

        const proj1 = {
            titulo: "Projeto Quadrado",
            arquivoImagemPainel: "imagem-projeto-teste.png"
        }

        imagemProjetoAtual.setAttribute('src', proj1.arquivoImagemPainel) // testando

        */



        // atualiza projeto atual ao carregar a página
        addEventListener('load', atualizarElementosProjeto)


        /* objetos do painel */

        // letreiro da imagem do projeto aparecendo no momento
        let imagemProjetoAtual = document.querySelector("div#tela-painel>img")

        let nomeProjetoAtual = document.querySelector("h4#titulo-projeto-painel") // funciona

        let contadorProjeto = 0 // contador para selecionar o item (imagem, nome etc.) do projeto
        


        /* listas com elementos de cada projeto em ordem */

        // todas imagens de projetos
        // depois, pegar automaticamente do conteudo html ou de uma pasta
        let imagensProjetos = ["imagem-projeto-quadrado.png", "imagem-projeto-circulo.png", 
        "imagem-projeto-triangulo.png"]

        // todos nomes do projeto
        let nomesProjetos = ["Projeto Quadrado", "Projeto Círculo", "Projeto Triângulo"]

        // todas mini imagens de projeto
        let imagensMiniProjetos = ['imagem-mini-projeto-quadrado.png', 'imagem-mini-projeto-circulo.png', 
        'imagem-mini-projeto-triangulo.png']




        /* criação dos blocos de cada projeto */

        // caixa com os blocos de projeto
        const caixaBlocos = document.querySelector('div#agregador-blocos')

        // cria um bloco para cada projeto
        imagensMiniProjetos.forEach(function (elem){ // nao precisa ter as mini imagens como referencia
            let blocoProjeto = document.createElement('span')
            blocoProjeto.setAttribute('class', 'bloco-projeto')
            caixaBlocos.appendChild(blocoProjeto)

            let objImagemBloco = document.createElement('img')
            objImagemBloco.setAttribute('src', elem)
            blocoProjeto.appendChild(objImagemBloco)
        })



        /* ações do botão esquerdo do painel */

        // função para automatizar a atualização de imagem, nome etc do projeto atual mostrado
        function atualizarElementosProjeto(){
            imagemProjetoAtual.setAttribute('src', imagensProjetos[contadorProjeto]) // atualizar imagem
            nomeProjetoAtual.textContent = nomesProjetos[contadorProjeto] // atualizar nome
        }

        let botaoEsquerdoPainel = document.querySelector("div#botao-esquerda")
        botaoEsquerdoPainel.addEventListener('click', clicarEsquerdo) // evento de clique

        function clicarEsquerdo(){ // evento de clique do botão esquerdo
            if (contadorProjeto > 0){ // reduzir enquanto houver anterior
                contadorProjeto -= 1 
            } else { // voltar ao último quando acabar anteriores
                contadorProjeto = imagensProjetos.length-1
            }
            atualizarElementosProjeto()
        }


        /* acões do botão direito do painel */

        let botaoDireitoPainel = document.querySelector("div#botao-direita")
        botaoDireitoPainel.addEventListener('click', clicarDireito) // evento de clique

        function clicarDireito(){ // evento de clique do botão direito
            if (contadorProjeto < imagensProjetos.length-1){ // aumentar enquanto houver próximo
                contadorProjeto += 1;
            } else { // voltar ao primeiro quando acabar os próximos
                contadorProjeto = 0
            }
            atualizarElementosProjeto()
        }



    </script>
</body>
</html>